(this["webpackJsonpcasper-qr"]=this["webpackJsonpcasper-qr"]||[]).push([[0],{44:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),s=a(9),i=a.n(s),o=(a(44),a(8)),l=(a(45),a(91)),d=a(92),u=a(93),m=a(1),j=function(){return Object(m.jsx)("header",{children:Object(m.jsx)("h1",{children:"Casper QR Generator"})})},b=a(20),f=a.n(b),g=a(35),p=a(89),h=a(90),x=a(95),O=a(39),v=a(96),I=a(12),y=a(17),C=function(e){var t=e.onInputChange,a=e.platforms,n=Object(c.useState)("cspr.live"),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(I.c)(),d=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.Signer.isConnected();case 3:if(e.sent){e.next=7;break}return y.Signer.sendConnectionRequest(),e.abrupt("return");case 7:return e.next=9,y.Signer.getActivePublicKey();case 9:t=e.sent,document.getElementById("address").value=t,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),l.show(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"config-inputs",style:{marginTop:"20px"},children:[Object(m.jsx)(p.a,{id:"platform",className:"mb-2",children:Object.keys(a).map((function(e){return Object(m.jsx)(h.a,{id:"radio-".concat(e),type:"radio",variant:"outline-danger",name:"radio",value:e,checked:s===e,onChange:function(e){i(e.currentTarget.value),t(e)},children:e},e)}))}),Object(m.jsxs)(x.a,{className:"mb-3",children:[Object(m.jsx)(O.a,{variant:"danger",size:"lg",onClick:d,children:"Use Signer"}),Object(m.jsx)(v.a,{id:"address",size:"lg",placeholder:"Recipient's address","aria-label":"Recipient's address","aria-describedby":"basic-addon2",autocomplete:"off",onChange:function(e){t(e)}})]}),Object(m.jsx)(x.a,{className:"mb-3",children:Object(m.jsx)(v.a,{id:"amount",size:"lg",type:"number",placeholder:"Amount to receive","aria-label":"Casper amount",autocomplete:"off",onChange:function(e){t(e)}})}),Object(m.jsx)(x.a,{className:"mb-3",children:Object(m.jsx)(v.a,{id:"transfer-id",size:"lg",placeholder:"Transfer ID (Memo)","aria-label":"Transfer ID (Memo)",autocomplete:"off",onChange:function(e){t(e)}})}),Object(m.jsx)(x.a,{className:"mb-3",children:Object(m.jsx)(v.a,{id:"message",size:"lg",placeholder:"Message","aria-label":"Message",autocomplete:"off",onChange:function(e){t(e)}})})]})},B=a(94),k=a(36),S=a.n(k),E=a.p+"static/media/casper.bc364f1d.png",N=a(37),T=a.n(N),w=a(18),q=function(e){var t=e.qrData,a=e.platforms;return Object(m.jsxs)(B.a,{direction:"vertical",gap:3,children:[Object(m.jsx)("div",{className:"bg-light border",children:Object(m.jsx)(S.a,{id:"qr",value:a[t.platform](t),size:300,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!0,renderAs:"canvas",imageSettings:{src:E,x:null,y:null,height:40,width:40,excavate:!1}})}),Object(m.jsx)("div",{className:"d-grid",children:Object(m.jsx)(O.a,{onClick:function(){return function(){var e=document.createElement("a"),t=document.getElementById("qr");e.href=t.toDataURL("image/png"),e.download="wallet.png",e.click()}()},variant:"outline-success",size:"lg",children:"Save QR"})}),Object(m.jsx)("div",{className:" d-grid",children:Object(m.jsx)(O.a,{onClick:function(){document.getElementById("qr").toBlob((function(e){var t=new FormData;t.append("image",e),T()({method:"POST",url:"".concat(w.a.IMGBB_BASE,"?expiration=").concat(w.a.IMGBB_EXPIRATION,"&key=").concat(w.a.IMGBB_API_KEY),data:t}).then((function(e){navigator.clipboard.writeText(e.data.data.display_url)})).catch((function(e){}))}))},variant:"outline-primary",size:"lg",children:"Copy Link"})})]})};var M=function(){var e={"cspr.live":function(e){return"https://".concat(e.platform,"/transfer?recepient=").concat(e.address,"&amount=").concat(e.amount,"&transferId=").concat(e.transferId,"&message=").concat(e.message)},mobile:function(e){return"casper:".concat(e.address,"?amount=").concat(e.amount,"&transferId=").concat(e.transferId,"&message=").concat(e.message)}},t=Object(c.useState)({platform:"cspr.live",address:"",amount:"",transferId:"",message:""}),a=Object(o.a)(t,2),n=a[0],r=a[1];return Object(m.jsxs)(l.a,{fluid:!0,children:[Object(m.jsx)(d.a,{children:Object(m.jsx)(u.a,{style:{textAlign:"center"},children:Object(m.jsx)(j,{})})}),Object(m.jsx)(d.a,{className:"justify-content-center",children:Object(m.jsx)(u.a,{xs:"auto",sm:"auto",md:"auto",lg:"auto",children:Object(m.jsx)(q,{qrData:n,platforms:e})})}),Object(m.jsxs)(d.a,{className:"justify-content-center",children:[Object(m.jsx)(u.a,{}),Object(m.jsx)(u.a,{lg:8,children:Object(m.jsx)(C,{onInputChange:function(e){r({platform:document.querySelector("#platform .btn-check:checked").value,address:document.getElementById("address").value,amount:document.getElementById("amount").value,transferId:document.getElementById("transfer-id").value,message:document.getElementById("message").value})},platforms:e})}),Object(m.jsx)(u.a,{})]})]})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))},R=a(38),A={timeout:5e3,position:I.b.TOP_RIGHT};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(I.a,Object(n.a)(Object(n.a)({template:R.a},A),{},{children:Object(m.jsx)(M,{})}))}),document.getElementById("root")),z()}},[[86,1,2]]]);
//# sourceMappingURL=main.80081a0f.chunk.js.map